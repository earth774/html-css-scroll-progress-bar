<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.box-outer {
  width:200px;
  border:5px solid red;
  overflow-x: hidden; 
}

.box-inner {
  width:500px;
  padding:10px;
  cursor: pointer;
}

.thumb {
  height: 5rem;
  width: 2rem;
  background-color: green;
  border: 1px solid black;
  display: inline-block;
}

.progress-bar {
  height: 8px;
  background: #04AA6D;
  width: 0%;
  max-width:205px;
}

</style>
</head>
<body>


 <div style="width:205px;">
   <div class="progress-bar" id="myBar"></div>
 </div>

<div class="box-outer">

  <div class="box-inner">
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
    <div class="thumb"></div>
  </div>
  
</div>


<script>
// When the user scrolls the page, execute myFunction 
let mouseDown = false;
let startX, scrollLeft;
const slider = document.querySelector('.box-outer');

const startDragging = (e) => {
  mouseDown = true;
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
}

const stopDragging = (e) => {
  mouseDown = false;
}

const move = (e) => {
  e.preventDefault();
  if(!mouseDown) { return; }
  const x = e.pageX - slider.offsetLeft;
  const scroll = x - startX;
  slider.scrollLeft = scrollLeft - scroll;
}

// Add the event listeners
slider.addEventListener('mousemove', move, false);
slider.addEventListener('mousedown', startDragging, false);
slider.addEventListener('mouseup', stopDragging, false);
slider.addEventListener('mouseleave', stopDragging, false);

document.querySelector('.box-outer').onscroll = function() {myFunction()};

function myFunction() {
	console.log(document.querySelector('.box-outer').scrollWidth);
  console.log(document.querySelector('.box-outer').clientWidth);
  var winScroll = document.querySelector('.box-outer').scrollLeft;
  var height = document.querySelector('.box-outer').scrollWidth - document.querySelector('.box-outer').clientWidth;
  var scrolled = (winScroll / height) * 100;
  console.log(scrolled);
  document.getElementById("myBar").style.width = scrolled + "%";
}

</script>

</body>
</html> 
